!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){this.deinitValidation(),_.each(this.fields,function(t){t.unload()})},validationComplete:function(t,e){var i=this;return t.valid?acf.unload.off():_.each(t.errors,function(t){var e=t.input.replace(/^acf\[([0-9a-z_]+)\]$/g,"$1");e in i.fields&&i.fields[e].setError(t.message)}),t},deinitValidation:function(){this.getSaveButton().off("click",this._saveBtnClickHandler)},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.addFilter("validation_complete",this.validationComplete,10,this),i.on("click",this._saveBtnClickHandler),e.data("acf",null),t._data(i[0],"events").click.reverse()},_saveBtnClickHandler:function(e){var i=t(this),a=t(this).closest("form");return!!acf.validateForm({form:a,event:!1,reset:!1,success:function(t){i.trigger("click")}})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1)}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){var i={};return t.each(e,function(t,e){"___do_not_change"!==e&&(i[t]=e)}),i},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(i),this.$input.val(t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){var t=acf.apply_filters("color_picker_args",{defaultColor:!1,palettes:!0,hide:!0},this.$el);this.$input=this.$('[type="text"]').first().wpColorPicker(t),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("disabled",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"button_group",initialize:function(){var i=(this.$("ul"),this.$("li"));this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$el.is('[data-allow-null="1"]')&&this.$el.on("click",'[type="radio"]',function(e){var a=t(this).closest("li"),d=a.hasClass("selected");if(i.removeClass("selected"),d)return void t(this).prop("checked",!1);a.addClass("selected")})},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0).closest("li").addClass("selected")}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"taxonomy",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$('select,input[value!="___do_not_change"]').prop("readonly",!0)},setValue:function(e){var i=this;this.dntChanged(),"number"==typeof e&&(e=[e]),t.each(e,function(e,a){i.$('[value="'+a+'"]').each(function(e,i){t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!0):t(this).is("option")&&t(this).prop("selected",!0)})})}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,a=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,a,o;return acf.validation.active=1,o=e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),a=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:a.get(0),object_id:d}),o},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=a.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var o=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,a,r=i('input[name="taxonomy"]').val();return a=o.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:r+"_"+n}),a},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJkZWluaXRWYWxpZGF0aW9uIiwidmFsaWRhdGlvbkNvbXBsZXRlIiwianNvbiIsIiRmb3JtIiwidmFsaWQiLCJhY2YiLCJvZmYiLCJlcnJvcnMiLCJlcnIiLCJpbnB1dCIsInJlcGxhY2UiLCJzZXRFcnJvciIsIm1lc3NhZ2UiLCJnZXRTYXZlQnV0dG9uIiwiX3NhdmVCdG5DbGlja0hhbmRsZXIiLCIkZWwiLCJjbG9zZXN0IiwiJGJ1dHRvbiIsInVwZGF0ZSIsIm9iamVjdF9pZCIsImFkZEZpbHRlciIsIm9uIiwiZGF0YSIsIl9kYXRhIiwiY2xpY2siLCJyZXZlcnNlIiwidmFsaWRhdGVGb3JtIiwiZXZlbnQiLCJyZXNldCIsInN1Y2Nlc3MiLCJ0cmlnZ2VyIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJRdWlja0VkaXQiLCJwb3N0IiwidXJsIiwiYWpheHVybCIsImFjdGlvbiIsImFjZl9maWVsZF9rZXlzIiwicmVzcG9uc2UiLCJmaW5kIiwiQnVsa0VkaXQiLCJhZGRfZmlsdGVyIiwicHJlcGFyZUZvckFqYXgiLCJyZXQiLCJwb3N0X2lkcyIsIndwIiwibWVkaWEiLCJldmVudHMiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdIiwiJGlucHV0Iiwic2V0RWRpdGFibGUiLCJyZXNldEVycm9yIiwidmFsdWUiLCJkbnRDaGFuZ2VkIiwiaXMiLCJlZGl0YWJsZSIsInByb3AiLCJyZW1vdmVBdHRyIiwialF1ZXJ5Iiwid2luZG93IiwiZmlsZV90eXBlIiwibWVkaWFGcmFtZVR5cGUiLCJjbGljayAuc2VsZWN0LW1lZGlhIiwiY2xpY2sgLnJlbW92ZS1tZWRpYSIsImNoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSIsIiRoaWRkZW4iLCJwb3N0X2lkIiwiZ2V0IiwibWVkaWFGcmFtZU9wdHMiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJtb2RlIiwic2VsZWN0IiwiYXR0YWNobWVudCIsIm1pbWVfdHlwZXMiLCJzZWxlY3RGaWxlIiwibWVkaWFfZnJhbWUiLCJwb3B1cCIsIm1lZGlhX2lkIiwic2VsZWN0aW9uIiwic3RhdGUiLCJmZXRjaCIsImFkZCIsImlzc2V0IiwiaXNOdW1lcmljIiwidmlldyIsInNldHRpbmdzIiwiaWQiLCJyZW1vdmVGaWxlIiwiY2hhbmdlIFt0eXBlPVwicmFuZ2VcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJyYW5nZVwiXSIsImNoYW5nZSBbdHlwZT1cIm51bWJlclwiXSIsIm1vdXNlbW92ZSBbdHlwZT1cIm51bWJlclwiXSIsImFkYXB0TnVtYmVyIiwiYWRhcHRSYW5nZSIsImRhdGVQaWNrZXJBcmdzIiwiZGF0ZUZvcm1hdCIsImFsdEZvcm1hdCIsImFsdEZpZWxkIiwiY2hhbmdlWWVhciIsInllYXJSYW5nZSIsImNoYW5nZU1vbnRoIiwic2hvd0J1dHRvblBhbmVsIiwiZmlyc3REYXkiLCJkYXRlcGlja2VyIiwibGVuZ3RoIiwid3JhcCIsImRhdGUiLCJwYXJzZURhdGUiLCJ0aW1lRm9ybWF0IiwiYWx0VGltZUZvcm1hdCIsImFsdEZpZWxkVGltZU9ubHkiLCJjb250cm9sVHlwZSIsIm9uZUxpbmUiLCJkYXRldGltZXBpY2tlciIsInBhcnNlRGF0ZVRpbWUiLCJmb3JtYXREYXRlIiwiZm9ybWF0VGltZSIsInRpbWVwaWNrZXIiLCJ0aW1lIiwicGFyc2VUaW1lIiwiYXJncyIsImFwcGx5X2ZpbHRlcnMiLCJkZWZhdWx0Q29sb3IiLCJwYWxldHRlcyIsImhpZGUiLCJmaXJzdCIsIndwQ29sb3JQaWNrZXIiLCJ3aGljaCIsImNsaWNrIC5hZGQtY2hvaWNlIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl0uY3VzdG9tIiwiaXNBcnJheSIsImlkeCIsImFkZENob2ljZSIsInRwbCIsInRlbXBsYXRlIiwiYXBwZW5kIiwicmVtb3ZlQ2hvaWNlIiwidGFyZ2V0IiwicmVtb3ZlIiwiJG90aGVyIiwiaXNfb3RoZXIiLCIkbGlzIiwiJGxpIiwic2VsZWN0ZWQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpbmxpbmVFZGl0UG9zdCIsIl93cF9pbmxpbmVfZWRpdF9wb3N0IiwiZWRpdCIsIl93cF9pbmxpbmVfZWRpdF9zYXZlIiwic2F2ZSIsIl93cF9pbmxpbmVfZWRpdF9yZXZlcnQiLCJyZXZlcnQiLCJfd3BfaW5saW5lX2VkaXRfYnVsayIsInNldEJ1bGsiLCIkdHIiLCJ2YWxpZGF0aW9uIiwiYWN0aXZlIiwicGFyc2VJbnQiLCJnZXRJZCIsImFjZl9xZWRfZm9ybSIsImlubGluZUVkaXRUYXgiLCJfd3BfaW5saW5lX2VkaXRfdGF4IiwidGF4IiwiJGltZyIsIngiLCJvZmZzZXRYIiwibnVtIiwic3RlcCIsIndpZHRoIiwic2hvdyJdLCJtYXBw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cEosSUFFakIwQixHQUVSd0gsY0FBY1QsT0FBUyxXQUd0QixRQURHbkwsS0FBSzJMLGNBQWdCM0wsS0FBSzJMLGFBQWF0SyxTQUNuQzZKLEVBQXVCOUssTUFBT0osS0FBTUUsWUFFNUMwTCxjQUFjWCxLQUFPLFdBR3BCLFFBREdqTCxLQUFLMkwsY0FBZ0IzTCxLQUFLMkwsYUFBYXRLLFNBQ25DMkosRUFBcUI1SyxNQUFPSixLQUFNRSxjQUl4Q2lGLE9BQVFDLE9BQU92RztDQ2hHbkIsU0FBVUYsR0FDVEEsRUFBRSx3QkFBd0JpRSxHQUFHLFlBQVksU0FBU3RCLEdBQ2pELEdBQ0N5SyxJQURXcE4sRUFBRXFCLE1BQ05yQixFQUFFcUIsTUFBTWdFLEtBQUssT0FDcEJnSSxHQUFLMUssRUFBRTJLLFFBQ1BDLElBQU9ILEVBQUs3RCxPQUNaaUUsS0FBT3hOLEVBQUVxQixNQUFNb00sUUFBVUYsSUFFMUJILEVBQUt6TCxLQUFNLFNBQVNDLEVBQUVmLEdBQ2pCd00sR0FBS0csS0FBSzVMLEVBQ2I1QixFQUFFYSxHQUFJNk0sT0FFTjFOLEVBQUVhLEdBQUk4SixZQUlQbkUiLCJmaWxlIjoiYWNmLXF1aWNrZWRpdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oICQsIGV4cG9ydHMgKXtcblxuXHRleHBvcnRzLmFjZl9xdWlja2VkaXQgPSBxZSA9IHtcblx0XHRmb3JtOnt9LFxuXHRcdGZpZWxkOiB7XG5cdFx0XHRfdHlwZXM6IHt9LC8vIGZpZWxkIHR5cGVzXG5cdFx0XHRhZGRfdHlwZTpmdW5jdGlvbihhKSB7XG5cdFx0XHRcdHFlLmZpZWxkLl90eXBlc1thLnR5cGVdID0gcWUuZmllbGQuVmlldy5leHRlbmQoYSk7XG5cdFx0XHRcdHJldHVybiBxZS5maWVsZC5fdHlwZXNbYS50eXBlXTtcblx0XHRcdH0sXG5cdFx0XHRmYWN0b3J5OmZ1bmN0aW9uKGVsLGNvbnRyb2xsZXIpe1xuXHRcdFx0XHR2YXIgdHlwZSA9ICQoZWwpLmF0dHIoJ2RhdGEtZmllbGQtdHlwZScpLFxuXHRcdFx0XHRcdHR5cGVzID0gcWUuZmllbGQuX3R5cGVzO1xuXG5cdFx0XHRcdGZpZWxkX2NsYXNzID0gdHlwZSBpbiB0eXBlcyA/IHR5cGVzW3R5cGVdIDogcWUuZmllbGQuVmlldztcblx0XHRcdFx0cmV0dXJuIG5ldyBmaWVsZF9jbGFzcyh7XG5cdFx0XHRcdFx0ZWw6XHRcdFx0ZWwsXG5cdFx0XHRcdFx0Y29udHJvbGxlcjpcdGNvbnRyb2xsZXIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdH07XG5cblxuXHRxZS5mb3JtLlZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMub3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcblxuXHRcdFx0QmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuZmllbGRzID0ge307XG5cblx0XHRcdHRoaXMuJCgnLmlubGluZS1lZGl0LWNvbC1xZWQgW2RhdGEta2V5XScpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdHZhciBmaWVsZCA9IHFlLmZpZWxkLmZhY3RvcnkoIGVsLCB0aGlzICk7XG5cdFx0XHRcdHNlbGYuZmllbGRzWyBmaWVsZC5rZXkgXSA9IGZpZWxkO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyBsb2FkIHZhbHVlc1xuXHRcdFx0dGhpcy5sb2FkVmFsdWVzKCk7XG5cblx0XHR9LFxuXHRcdGdldEZpZWxkc1RvTG9hZDpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGZpZWxkcyA9IFtdO1xuXHRcdFx0Xy5lYWNoKCB0aGlzLmZpZWxkcyxmdW5jdGlvbiggZmllbGQsIGtleSApIHtcblx0XHRcdFx0aWYgKCBmaWVsZC5wYXJlbnRfa2V5ICkge1xuXHRcdFx0XHRcdGZpZWxkcy5wdXNoKCBmaWVsZC5wYXJlbnRfa2V5ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmllbGRzLnB1c2goIGZpZWxkLmtleSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBmaWVsZHM7XG5cdFx0fSxcblx0XHRsb2FkZWRWYWx1ZXM6ZnVuY3Rpb24odmFsdWVzKSB7XG5cdFx0XHR0aGlzLl9zZXRWYWx1ZXMoIHZhbHVlcyApO1xuXHRcdFx0dGhpcy5pbml0VmFsaWRhdGlvbigpO1xuXHRcdH0sXG5cdFx0X3NldFZhbHVlczpmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdF8uZWFjaCggdmFsdWVzLCBmdW5jdGlvbiggdmFsLCBrZXkgKXtcblx0XHRcdFx0aWYgKCBrZXkgaW4gc2VsZi5maWVsZHMgKSB7XG5cdFx0XHRcdFx0c2VsZi5maWVsZHNba2V5XS5zZXRWYWx1ZSggdmFsICk7XG5cdFx0XHRcdH0gZWxzZSBpZiggXy5pc09iamVjdCggdmFsICkgKSB7XG5cdFx0XHRcdFx0c2VsZi5fc2V0VmFsdWVzKHZhbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKGUpe1xuXHRcdFx0dGhpcy5kZWluaXRWYWxpZGF0aW9uKCk7XG5cdFx0XHRfLmVhY2godGhpcy5maWVsZHMsZnVuY3Rpb24oZmllbGQpe1xuXHRcdFx0XHRmaWVsZC51bmxvYWQoKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0dmFsaWRhdGlvbkNvbXBsZXRlOmZ1bmN0aW9uKCBqc29uLCAkZm9ybSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0aWYgKCAhIGpzb24udmFsaWQgKSB7XG5cdFx0XHRcdF8uZWFjaChqc29uLmVycm9ycyxmdW5jdGlvbihlcnIpe1xuXHRcdFx0XHRcdC8vIGVyci5pbnB1dCBpcyBpbiBmb3JtYXQgYGFjZls8RklFTERfS0VZPl1gXG5cdFx0XHRcdFx0dmFyIGtleSA9IGVyci5pbnB1dC5yZXBsYWNlKC9eYWNmXFxbKFswLTlhLXpfXSspXFxdJC9nLCckMScpO1xuXHRcdFx0XHRcdGlmICgga2V5IGluIHNlbGYuZmllbGRzICkge1xuXHRcdFx0XHRcdFx0c2VsZi5maWVsZHNba2V5XS5zZXRFcnJvciggZXJyLm1lc3NhZ2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWNmLnVubG9hZC5vZmYoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc29uO1xuXHRcdH0sXG5cdFx0ZGVpbml0VmFsaWRhdGlvbjpmdW5jdGlvbigpe1xuXHRcdFx0dmFyICRidXR0b24gPSB0aGlzLmdldFNhdmVCdXR0b24oKTtcblx0XHRcdCRidXR0b24ub2ZmKCAnY2xpY2snLCB0aGlzLl9zYXZlQnRuQ2xpY2tIYW5kbGVyICk7XG5cdFx0fSxcblx0XHRpbml0VmFsaWRhdGlvbjpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkZm9ybSA9IHRoaXMuJGVsLmNsb3Nlc3QoJ2Zvcm0nKSxcblx0XHRcdFx0JGJ1dHRvbiA9IHRoaXMuZ2V0U2F2ZUJ1dHRvbigpO1xuXG5cdFx0XHRhY2YudXBkYXRlKCdwb3N0X2lkJywgdGhpcy5vcHRpb25zLm9iamVjdF9pZCApO1xuXG5cdFx0XHRhY2YuYWRkRmlsdGVyKCAndmFsaWRhdGlvbl9jb21wbGV0ZScsIHRoaXMudmFsaWRhdGlvbkNvbXBsZXRlLCAxMCwgdGhpcyApO1xuLy9cdFx0XHRhY2YuYWRkX2FjdGlvbigndmFsaWRhdGlvbl9mYWlsdXJlJywgdGhpcy52YWxpZGF0aW9uRmFpbHVyZSApO1xuXG5cdFx0XHQkYnV0dG9uLm9uKCAnY2xpY2snLCB0aGlzLl9zYXZlQnRuQ2xpY2tIYW5kbGVyICk7XG5cdFx0XHQkZm9ybS5kYXRhKCdhY2YnLG51bGwpXG5cdFx0XHQvLyBtb3ZlIG91ciBldmVudHMgaGFuZGxlciB0byBmcm9udFxuXG5cdFx0XHQkLl9kYXRhKCRidXR0b25bMF0sJ2V2ZW50cycpLmNsaWNrLnJldmVyc2UoKTtcblxuXHRcdH0sXG5cdFx0X3NhdmVCdG5DbGlja0hhbmRsZXI6ZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gc2NvcGU6IHF1aWNrL2J1bGsgZWRpdCBzYXZlIGJ1dHRvblxuXHRcdFx0dmFyICRidXR0b24gPSAkKHRoaXMpLFxuXHRcdFx0XHQkZm9ybSA9ICQodGhpcykuY2xvc2VzdCgnZm9ybScpLFxuXHRcdFx0XHR2YWxpZDtcblxuXHRcdFx0dmFsaWQgPSBhY2YudmFsaWRhdGVGb3JtKHtcblx0XHRcdFx0Zm9ybTogJGZvcm0sXG5cdFx0XHRcdGV2ZW50OiBmYWxzZSxcblx0XHRcdFx0cmVzZXQ6IGZhbHNlLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggJGZvcm0gKSB7XG5cdFx0XHRcdFx0JGJ1dHRvbi50cmlnZ2VyKCdjbGljaycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCAhIHZhbGlkICkge1xuXHRcdFx0XHQvLyBzdG9wIFdQIEpTIHZhbGlkYXRpb25cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0pO1xuXHRxZS5mb3JtLlF1aWNrRWRpdCA9IHFlLmZvcm0uVmlldy5leHRlbmQoe1xuXHRcdGxvYWRWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0JC5wb3N0KHtcblx0XHRcdFx0dXJsOmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6e1xuXHRcdFx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdFx0XHQnb2JqZWN0X2lkJyA6IHRoaXMub3B0aW9ucy5vYmplY3RfaWQsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpLmZpbmQoJ2J1dHRvbi5zYXZlJylcblx0XHR9XG5cdH0pO1xuXG5cdHFlLmZvcm0uQnVsa0VkaXQgPSBxZS5mb3JtLlZpZXcuZXh0ZW5kKHtcblx0XHQvLyB0b2RvOiBkbyBub3QgY2hhbmdlXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHFlLmZvcm0uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdGFjZi5hZGRfZmlsdGVyKCAncHJlcGFyZV9mb3JfYWpheCcsIHRoaXMucHJlcGFyZUZvckFqYXgsIG51bGwsIHRoaXMgKTtcblxuXHRcdH0sXG5cdFx0cHJlcGFyZUZvckFqYXg6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR2YXIgcmV0ID0ge307XG5cdFx0XHQkLmVhY2goZGF0YSxmdW5jdGlvbihpLHZhbCl7XG5cdFx0XHRcdGlmICh2YWwgIT09ICdfX19kb19ub3RfY2hhbmdlJykge1xuXHRcdFx0XHRcdHJldFtpXSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0bG9hZFZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcG9zdF9pZHMgPSBbXTtcblx0XHRcdCQoJ1t0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cInBvc3RbXVwiXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRwb3N0X2lkcy5wdXNoKCQodGhpcykudmFsKCkpXG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0JC5wb3N0KHtcblx0XHRcdFx0dXJsOmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6e1xuXHRcdFx0XHRcdCdhY3Rpb24nIDogJ2dldF9hY2ZfcG9zdF9tZXRhJyxcblx0XHRcdFx0XHQnb2JqZWN0X2lkJyA6IHBvc3RfaWRzLFxuXHRcdFx0XHRcdCdhY2ZfZmllbGRfa2V5cycgOiB0aGlzLmdldEZpZWxkc1RvTG9hZCgpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXtcblx0XHRcdFx0XHRzZWxmLmxvYWRlZFZhbHVlcyggcmVzcG9uc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0U2F2ZUJ1dHRvbjpmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHRoaXMuJCgnW3R5cGU9XCJzdWJtaXRcIl0jYnVsa19lZGl0Jyk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblx0cWUuZmllbGQuVmlldyA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHRldmVudHM6e1xuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtaXMtZG8tbm90LWNoYW5nZT1cInRydWVcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0QmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLmtleSA9IHRoaXMuJGVsLmF0dHIoJ2RhdGEta2V5Jyk7XG5cdFx0XHR0aGlzLnBhcmVudF9rZXkgPSB0aGlzLiRlbC5hdHRyKCdkYXRhLXBhcmVudC1rZXknKTtcblxuXHRcdFx0aWYoICdmYWxzZScgPT09IHRoaXMucGFyZW50X2tleSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnRfa2V5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISB0aGlzLiRpbnB1dCApIHtcblx0XHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ2lucHV0Om5vdChbZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXSknKVxuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZXRFZGl0YWJsZSggZmFsc2UgKTtcblx0XHRcdHRoaXMuJCgnKicpLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7c2VsZi5yZXNldEVycm9yKCl9KVxuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpe1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCApO1xuXHRcdFx0dGhpcy4kaW5wdXQudmFsKHZhbHVlKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZG50Q2hhbmdlZDpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy5zZXRFZGl0YWJsZSggISB0aGlzLiQoJ1t0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScpLmlzKCc6Y2hlY2tlZCcpICk7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCAncmVhZG9ubHknLCAhIGVkaXRhYmxlICkucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0RXJyb3I6ZnVuY3Rpb24obWVzc2FnZSkge1xuXHRcdFx0dGhpcy4kZWwuYXR0cignZGF0YS1lcnJvci1tZXNzYWdlJyxtZXNzYWdlKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0cmVzZXRFcnJvcjpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGVsLnJlbW92ZUF0dHIoICdkYXRhLWVycm9yLW1lc3NhZ2UnICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHVubG9hZDpmdW5jdGlvbigpe31cblx0fSk7XG5cblxufSkoIGpRdWVyeSwgd2luZG93ICk7XG4iLCIoZnVuY3Rpb24oICQsIHFlICl7XG5cdHZhciBmaWxlX3R5cGUgPSB7XG5cdFx0dHlwZTonZmlsZScsXG5cdFx0bWVkaWFGcmFtZVR5cGU6JycsXG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjbGljayAuc2VsZWN0LW1lZGlhJyA6ICdzZWxlY3RGaWxlJyxcblx0XHRcdCdjbGljayAucmVtb3ZlLW1lZGlhJyA6ICdyZW1vdmVGaWxlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdidXR0b24nKTtcblx0XHRcdHRoaXMuJGhpZGRlbiA9IHRoaXMuJCgnW3R5cGU9XCJoaWRkZW5cIl0nKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdHBvc3RfaWQgPSBhY2YuZ2V0KCdwb3N0X2lkJyk7XG5cblx0XHRcdHRoaXMubWVkaWFGcmFtZU9wdHMgPSB7XG5cdFx0XHRcdGZpZWxkXHRcdDogdGhpcy5rZXksXG5cdFx0XHRcdG11bHRpcGxlXHQ6IGZhbHNlLFxuXHRcdFx0XHRwb3N0X2lkXHRcdDogcG9zdF9pZCxcblx0XHRcdFx0bGlicmFyeVx0XHQ6IHRoaXMuJGhpZGRlbi5hdHRyKCdkYXRhLWxpYnJhcnknKSxcblx0XHRcdFx0bW9kZVx0XHQ6J3NlbGVjdCcsXG5cdFx0XHRcdHR5cGVcdFx0OiB0aGlzLm1lZGlhRnJhbWVUeXBlLFxuXHRcdFx0XHRzZWxlY3RcdFx0OiBmdW5jdGlvbiAoIGF0dGFjaG1lbnQsIGkgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIGF0dGFjaG1lbnQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYuc2V0VmFsdWUoIGF0dGFjaG1lbnQuZ2V0KCdpZCcpICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRpZiAoIHRoaXMuJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJykgKSB7XG5cdFx0XHRcdHRoaXMubWVkaWFGcmFtZU9wdHMubWltZV90eXBlcyA9IHRoaXMuJGhpZGRlbi5kYXRhKCdtaW1lX3R5cGVzJyk7XG5cdFx0XHR9XG5cblx0XHR9LFxuXHRcdHNlbGVjdEZpbGU6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBDcmVhdGUgYSBuZXcgbWVkaWEgZnJhbWVcblx0XHRcdHZhciBtZWRpYV9mcmFtZSA9IGFjZi5tZWRpYS5wb3B1cCggdGhpcy5tZWRpYUZyYW1lT3B0cyApLFxuXHRcdFx0XHRtZWRpYV9pZCA9IHRoaXMuJGhpZGRlbi52YWwoKTtcblxuXHRcdFx0aWYgKCAhISBtZWRpYV9pZCApIHtcblx0XHRcdFx0bWVkaWFfZnJhbWUub24oJ29wZW4nLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiwgYXR0YWNobWVudDtcblx0XHRcdFx0XHRzZWxlY3Rpb24gPSBtZWRpYV9mcmFtZS5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJyk7XG5cdFx0XHRcdFx0YXR0YWNobWVudCA9IHdwLm1lZGlhLmF0dGFjaG1lbnQoIG1lZGlhX2lkICk7XG5cdFx0XHRcdFx0YXR0YWNobWVudC5mZXRjaCgpO1xuXHRcdFx0XHRcdHNlbGVjdGlvbi5hZGQoIGF0dGFjaG1lbnQgPyBbIGF0dGFjaG1lbnQgXSA6IFtdICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzZXQgcG9zdCBpZCwgc28gbmV3IHVwbG9hZHMgYXJlIGF0dGFjaGVkIHRvIGVkaXRlZCBwb3N0XG5cdFx0XHRpZiAoIGFjZi5pc3NldCh3aW5kb3csJ3dwJywnbWVkaWEnLCd2aWV3Jywnc2V0dGluZ3MnLCdwb3N0JykgJiYgJC5pc051bWVyaWMoIHRoaXMubWVkaWFGcmFtZU9wdHMucG9zdF9pZCApICkge1xuXG5cdFx0XHRcdHdwLm1lZGlhLnZpZXcuc2V0dGluZ3MucG9zdC5pZCA9IHRoaXMubWVkaWFGcmFtZU9wdHMucG9zdF9pZDtcblxuXHRcdFx0fVxuXG5cdFx0fSxcblx0XHRyZW1vdmVGaWxlOmZ1bmN0aW9uKGUpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSgnJyk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiRoaWRkZW4udmFsKCB2YWx1ZSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKlx0ZmllbGQgdHlwZSBmaWxlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSggZmlsZV90eXBlICk7XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIGltYWdlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSggXy5leHRlbmQoZmlsZV90eXBlLHt0eXBlOidpbWFnZScsbWVkaWFGcmFtZVR5cGU6J2ltYWdlJ30pICk7XG5cblx0cWUuZmllbGQuYWRkX3R5cGUoIGZpbGVfdHlwZSApO1xuXG5cdC8qKlxuXHQgKlx0ZmllbGQgdHlwZSByYW5nZVxuXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHQgdHlwZToncmFuZ2UnLFxuXHRcdCBldmVudHM6e1xuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJyYW5nZVwiXSdcdFx0OiAnYWRhcHROdW1iZXInLFxuXHRcdFx0ICdtb3VzZW1vdmUgW3R5cGU9XCJyYW5nZVwiXSdcdFx0OiAnYWRhcHROdW1iZXInLFxuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJudW1iZXJcIl0nXHRcdDogJ2FkYXB0UmFuZ2UnLFxuXHRcdFx0ICdtb3VzZW1vdmUgW3R5cGU9XCJudW1iZXJcIl0nXHQ6ICdhZGFwdFJhbmdlJyxcblx0XHRcdCAnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHQgfSxcblx0XHQgYWRhcHROdW1iZXI6ZnVuY3Rpb24oKXtcblx0XHRcdCB0aGlzLiQoJ1t0eXBlPVwibnVtYmVyXCJdJykudmFsKCB0aGlzLiQoJ1t0eXBlPVwicmFuZ2VcIl0nKS52YWwoKSApO1xuXHRcdCB9LFxuXHRcdCBhZGFwdFJhbmdlOmZ1bmN0aW9uKCl7XG5cdFx0XHQgdGhpcy4kKCdbdHlwZT1cInJhbmdlXCJdJykudmFsKCB0aGlzLiQoJ1t0eXBlPVwibnVtYmVyXCJdJykudmFsKCkgKTtcblx0XHQgfVxuXHQgfSApO1xuXG5cblx0LyoqXG4gIFx0ICpcdGZpZWxkIHR5cGUgZGF0ZV9waWNrZXJcbiAgXHQgKi9cbiAgXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuIFx0XHR0eXBlOidkYXRlX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGlucHV0XHRcdD0gdGhpcy4kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApO1xuXHRcdFx0dGhpcy4kaGlkZGVuXHQ9IHRoaXMuJCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzID0ge1xuXHRcdFx0XHRcdGRhdGVGb3JtYXRcdFx0OiB0aGlzLiQoJ1tkYXRhLWRhdGVfZm9ybWF0XScpLmRhdGEoJ2RhdGVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0Rm9ybWF0XHRcdDogJ3l5bW1kZCcsXG5cdFx0XHRcdFx0YWx0RmllbGRcdFx0OiB0aGlzLiRoaWRkZW4sXG5cdFx0XHRcdFx0Y2hhbmdlWWVhclx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0eWVhclJhbmdlXHRcdDogXCItMTAwOisxMDBcIixcblx0XHRcdFx0XHRjaGFuZ2VNb250aFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHQ6IHRydWUsXG5cdFx0XHRcdFx0Zmlyc3REYXlcdFx0OiB0aGlzLiQoJ1tkYXRhLWZpcnN0X2RheV0nKS5kYXRhKCdmaXJzdF9kYXknKVxuXHRcdFx0XHR9O1xuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXBpY2tlciggdGhpcy5kYXRlUGlja2VyQXJncyApLm9uKCdibHVyJyxmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcblx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLnNldEVkaXRhYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGhpZGRlbi5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIGRhdGU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZSggdGhpcy5kYXRlUGlja2VyQXJncy5hbHRGb3JtYXQsIHZhbHVlICk7XG5cdFx0XHR9IGNhdGNoKGVycikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuIFx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBkYXRlX3RpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonZGF0ZV90aW1lX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGlucHV0XHRcdD0gdGhpcy4kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApO1xuXHRcdFx0dGhpcy4kaGlkZGVuXHQ9IHRoaXMuJCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzID0ge1xuXHRcdFx0XHRcdGFsdEZpZWxkXHRcdFx0OiB0aGlzLiRoaWRkZW4sXG5cdFx0XHRcdFx0ZGF0ZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS1kYXRlX2Zvcm1hdF0nKS5kYXRhKCdkYXRlX2Zvcm1hdCcpLFxuXHRcdFx0XHRcdGFsdEZvcm1hdFx0XHRcdDogJ3l5LW1tLWRkJyxcblx0XHRcdFx0XHR0aW1lRm9ybWF0XHRcdFx0OiB0aGlzLiQoJ1tkYXRhLXRpbWVfZm9ybWF0XScpLmRhdGEoJ3RpbWVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0VGltZUZvcm1hdFx0XHQ6ICdISDptbTpzcycsXG5cdFx0XHRcdFx0YWx0RmllbGRUaW1lT25seVx0OiBmYWxzZSxcblx0XHRcdFx0XHRjaGFuZ2VZZWFyXHRcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHllYXJSYW5nZVx0XHRcdDogXCItMTAwOisxMDBcIixcblx0XHRcdFx0XHRjaGFuZ2VNb250aFx0XHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdGZpcnN0RGF5XHRcdFx0OiB0aGlzLiQoJ1tkYXRhLWZpcnN0X2RheV0nKS5kYXRhKCdmaXJzdF9kYXknKSxcblx0XHRcdFx0XHRjb250cm9sVHlwZVx0XHRcdDogJ3NlbGVjdCcsXG5cdFx0XHRcdFx0b25lTGluZVx0XHRcdFx0OiB0cnVlXG5cdFx0XHRcdH07XG5cblx0XHRcdHRoaXMuJGlucHV0LmRhdGV0aW1lcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdHNlbGYuJGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuc2V0RWRpdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgZGF0ZTtcblxuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlVGltZShcblx0XHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdEZvcm1hdCxcblx0XHRcdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdFRpbWVGb3JtYXQsXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0KTtcblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgZGF0ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8qXG5cdFx0XHR0aGlzLiRoaWRkZW4udmFsKGRhdGUpO1xuXHRcdFx0dGhpcy4kaW5wdXQudmFsKCAkLmRhdGVwaWNrZXIuZm9ybWF0RGF0ZSh0aGlzLmRhdGVQaWNrZXJBcmdzLmRhdGVGb3JtYXQsIGRhdGUpICsgJyAnICsgJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoXG5cdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCxcblx0XHRcdFx0ZGF0ZVxuXHRcdFx0KSk7XG5cdFx0XHQvKi9cblx0XHRcdC8vIHdpbGwgc2V0IGZvcm0gZGlydHkgaWYgZG9uZSBsaWtlIHRoaXNcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApO1xuXHRcdFx0Ly8qL1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcbiBcdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuIFx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogJ0hIOm1tOnNzJyxcbiBcdFx0XHRcdFx0YWx0RmllbGRcdFx0XHQ6IHRoaXMuJGhpZGRlbixcbiBcdFx0XHRcdFx0YWx0RmllbGRUaW1lT25seVx0OiBmYWxzZSxcbiBcdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcbiBcdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuIFx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcbiBcdFx0XHRcdH07XG5cbiBcdFx0XHR0aGlzLiRpbnB1dC50aW1lcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcbiBcdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLnNldEVkaXRhYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGhpZGRlbi5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcbiBcdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciB0aW1lO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRpbWUgPSAkLmRhdGVwaWNrZXIucGFyc2VUaW1lKCB0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdFRpbWVGb3JtYXQsIHZhbHVlICk7XG5cdFx0XHR9IGNhdGNoKGVycil7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhIHRpbWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoIHZhbHVlICk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwoICQuZGF0ZXBpY2tlci5mb3JtYXRUaW1lKCB0aGlzLmRhdGVQaWNrZXJBcmdzLnRpbWVGb3JtYXQsIHRpbWUgKSApXG5cdFx0XHRyZXR1cm4gdGhpcztcbiBcdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonY29sb3JfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZ3MgPSBhY2YuYXBwbHlfZmlsdGVycygnY29sb3JfcGlja2VyX2FyZ3MnLCB7XG5cdFx0XHRcdGRlZmF1bHRDb2xvcjogZmFsc2UsXG5cdFx0XHRcdHBhbGV0dGVzOiB0cnVlLFxuXHRcdFx0XHRoaWRlOiB0cnVlLFxuXHRcdFx0fSwgdGhpcy4kZWwgKTtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInRleHRcIl0nKS5maXJzdCgpLndwQ29sb3JQaWNrZXIoIGFyZ3MgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiRpbnB1dC53cENvbG9yUGlja2VyKCAnY29sb3InLCB2YWx1ZSApO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJ2JvZHknICkub2ZmKCAnY2xpY2sud3Bjb2xvcnBpY2tlcicgKTtcblx0XHR9XG5cdH0pO1xuXG5cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGV4dGFyZWEnLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgndGV4dGFyZWEnKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cblx0XHRcdHRoaXMuJGlucHV0Lm9uKCdrZXlkb3duIGtleXVwJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoIGUud2hpY2ggPT0gMTMgfHwgZS53aGljaCA9PSAyNyApIHtcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuLy9cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgY2hvaWNlXG4gXHQgKi9cblx0Ly8gVG9kb1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgY2hlY2tib3hcbiBcdCAqL1xuXHQvLyBUb2RvXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonY2hlY2tib3gnLFxuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2xpY2sgLmFkZC1jaG9pY2UnOiAnYWRkQ2hvaWNlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXS5jdXN0b20nIDogJ3JlbW92ZUNob2ljZScsXG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJjaGVja2JveFwiXTpub3QoW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSknKTtcblx0XHRcdHRoaXMuJGJ1dHRvbiA9IHRoaXMuJCgnYnV0dG9uLmFkZC1jaG9pY2UnKS5wcm9wKCdkaXNhYmxlZCcsdHJ1ZSk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0dGhpcy4kaW5wdXQucHJvcCggJ2Rpc2FibGVkJywgIWVkaXRhYmxlICk7XG5cdFx0XHR0aGlzLiRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgIWVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdGlmICggJC5pc0FycmF5KHZhbHVlKSApIHtcblx0XHRcdFx0JC5lYWNoKCB2YWx1ZSwgZnVuY3Rpb24oIGlkeCwgdmFsICkge1xuXHRcdFx0XHRcdHNlbGYuJCggJ1t0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCInK3ZhbCsnXCJdJyApXG5cdFx0XHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy4kKCAnW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdH1cbiBcdFx0fSxcblx0XHRhZGRDaG9pY2U6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgdHBsID0gd3AudGVtcGxhdGUoJ2FjZi1xZWYtY3VzdG9tLWNob2ljZS0nICsgdGhpcy4kZWwuYXR0cignZGF0YS1rZXknKSk7XG5cdFx0XHR0aGlzLiQoJ3VsJykuYXBwZW5kKHRwbCgpKTtcblx0XHR9LFxuXHRcdHJlbW92ZUNob2ljZTpmdW5jdGlvbihlKSB7XG5cdFx0XHQkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpLnJlbW92ZSgpO1xuXHRcdH1cblxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHJhZGlvXG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidyYWRpbycsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkb3RoZXIsIGlzX290aGVyO1xuXG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXMuJCgndWwuYWNmLXJhZGlvLWxpc3Qub3RoZXInKS5sZW5ndGggKSB7XG5cdFx0XHRcdCRvdGhlciA9IHRoaXMuJCgnW3R5cGU9XCJ0ZXh0XCJdJyk7XG5cdFx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKGUpe1xuXG5cdFx0XHRcdFx0aXNfb3RoZXIgPSAkKHRoaXMpLmlzKCdbdmFsdWU9XCJvdGhlclwiXTpjaGVja2VkJyk7XG5cdFx0XHRcdFx0JG90aGVyXG5cdFx0XHRcdFx0XHQucHJvcCgnZGlzYWJsZWQnLCAhIGlzX290aGVyIClcblx0XHRcdFx0XHRcdC5wcm9wKCdyZWFkb25seScsICEgaXNfb3RoZXIgKTtcblxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuIFx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBidXR0b24gZ3JvdXBcbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2J1dHRvbl9ncm91cCcsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkdWwgPSB0aGlzLiQoJ3VsJyksXG5cdFx0XHRcdCRsaXMgPSB0aGlzLiQoJ2xpJyk7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpcy4kZWwuaXMoICdbZGF0YS1hbGxvdy1udWxsPVwiMVwiXScgKSApIHtcblx0XHRcdFx0dGhpcy4kZWwub24oICdjbGljaycsICdbdHlwZT1cInJhZGlvXCJdJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0dmFyICRsaSA9ICQodGhpcykuY2xvc2VzdCgnbGknKSxcblx0XHRcdFx0XHRcdHNlbGVjdGVkID0gJGxpLmhhc0NsYXNzKCdzZWxlY3RlZCcpO1xuXG5cdFx0XHRcdFx0JGxpcy5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcblxuXHRcdFx0XHRcdGlmICggc2VsZWN0ZWQgKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkbGkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblxuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApXG5cdFx0XHRcdC5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuIFx0XHR9XG5cdH0pO1xuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHNlbGVjdFxuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonc2VsZWN0Jyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdzZWxlY3QnKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRheG9ub215XG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0YXhvbm9teScsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnc2VsZWN0LGlucHV0W3ZhbHVlIT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdGlmICggJ251bWJlcicgPT09IHR5cGVvZiB2YWx1ZSApIHtcblx0XHRcdFx0dmFsdWUgPSBbIHZhbHVlIF07XG5cdFx0XHR9XG5cdFx0XHQkLmVhY2godmFsdWUsZnVuY3Rpb24oaSx2YWwpe1xuXHRcdFx0XHRzZWxmLiQoJ1t2YWx1ZT1cIicrdmFsKydcIl0nICkuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHRpZiAoICQodGhpcykuaXMoJ1t0eXBlPVwicmFkaW9cIl0sW3R5cGU9XCJjaGVja2JveFwiXScpICkge1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAkKHRoaXMpLmlzKCdvcHRpb24nKSApIHtcblx0XHRcdFx0XHRcdCQodGhpcykucHJvcCggJ3NlbGVjdGVkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcbiBcdFx0fVxuXHR9KTtcblxuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdHJ1ZV9mYWxzZVxuIFx0ICovXG5cdCBxZS5maWVsZC5hZGRfdHlwZSgge1xuIFx0XHR0eXBlOid0cnVlX2ZhbHNlJyxcbiBcdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcbiBcdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuIFx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcbiBcdFx0fSxcbiBcdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuICBcdFx0fVxuIFx0fSk7XG5cdC8vIFRvZG9cblxufSkoIGpRdWVyeSwgYWNmX3F1aWNrZWRpdCApO1xuIiwiLy92YXIgYWNmX3F1aWNrZWRpdCA9IHt9O1xuXG5cbihmdW5jdGlvbigkLHFlKSB7XG5cblxuXG5cdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBpbmxpbmVFZGl0UG9zdCApIHtcblx0XHQvLyB3ZSBjcmVhdGUgYSBjb3B5IG9mIHRoZSBXUCBpbmxpbmUgZWRpdCBwb3N0IGZ1bmN0aW9uXG5cdFx0dmFyIF93cF9pbmxpbmVfZWRpdF9wb3N0ID0gaW5saW5lRWRpdFBvc3QuZWRpdCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9zYXZlID0gaW5saW5lRWRpdFBvc3Quc2F2ZSxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9yZXZlcnQgPSBpbmxpbmVFZGl0UG9zdC5yZXZlcnQsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfYnVsayA9ICBpbmxpbmVFZGl0UG9zdC5zZXRCdWxrO1xuXHRcdC8vIGFuZCB0aGVuIHdlIG92ZXJ3cml0ZSB0aGUgZnVuY3Rpb24gd2l0aCBvdXIgb3duIGNvZGVcblx0XHRpbmxpbmVFZGl0UG9zdC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyLCByZXQ7XG5cblx0XHRcdGFjZi52YWxpZGF0aW9uLmFjdGl2ZSA9IDE7XG5cblx0XHRcdC8vIFwiY2FsbFwiIHRoZSBvcmlnaW5hbCBXUCBlZGl0IGZ1bmN0aW9uXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGxlYXZlIFdvcmRQcmVzcyBoYW5naW5nXG5cdFx0XHRyZXQgPSBfd3BfaW5saW5lX2VkaXRfcG9zdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuLy9cdFx0XHRnZXRfYWNmX3Bvc3RfZGF0YSggb2JqZWN0X2lkICwgJCgnI2VkaXQtJyArIG9iamVjdF9pZCApICk7XG5cblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uUXVpY2tFZGl0KHtcblx0XHRcdFx0ZWw6ICR0ci5nZXQoMCksXG5cdFx0XHRcdG9iamVjdF9pZDogb2JqZWN0X2lkXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fTtcblx0XHRpbmxpbmVFZGl0UG9zdC5yZXZlcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3JldmVydC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdGlubGluZUVkaXRQb3N0LnNhdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3NhdmUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0UG9zdC5zZXRCdWxrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcmV0ID0gX3dwX2lubGluZV9lZGl0X2J1bGsuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5CdWxrRWRpdCh7XG5cdFx0XHRcdGVsOiAkKCcjYnVsay1lZGl0JykuZ2V0KDApLFxuLy9cdFx0XHRcdG9iamVjdF9pZDogb2JqZWN0X2lkXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH1cblx0Ly8gdG9kbzogaW5saW5lRWRpdFRheFxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFRheCApIHtcblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfdGF4ID0gaW5saW5lRWRpdFRheC5lZGl0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3NhdmUgPSBpbmxpbmVFZGl0VGF4LnNhdmUsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0ID0gaW5saW5lRWRpdFRheC5yZXZlcnQ7XG5cblx0XHRpbmxpbmVFZGl0VGF4LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHIsIHJldCxcblx0XHRcdFx0dGF4ID0gJCgnaW5wdXRbbmFtZT1cInRheG9ub215XCJdJykudmFsKCk7XG5cblx0XHRcdHJldCA9IF93cF9pbmxpbmVfZWRpdF90YXguYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBnZXQgdGhlIHBvc3QgSURcblx0XHRcdG9iamVjdF9pZCA9IDA7XG5cdFx0XHRpZiAoIHR5cGVvZiggaWQgKSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdG9iamVjdF9pZCA9IHBhcnNlSW50KCB0aGlzLmdldElkKCBpZCApICk7XG5cdFx0XHR9XG5cdFx0XHQkdHIgPSAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICk7XG5cblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uUXVpY2tFZGl0KHtcblx0XHRcdFx0ZWw6ICR0ci5nZXQoMCksXG5cdFx0XHRcdG9iamVjdF9pZDogdGF4ICsgJ18nICsgb2JqZWN0X2lkXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fTtcblx0XHRpbmxpbmVFZGl0VGF4LnJldmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFRheC5zYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9zYXZlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH1cblxufSkoIGpRdWVyeSwgd2luZG93LmFjZl9xdWlja2VkaXQgKTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCQoJy5hY2YtcWVmLWdhbGxlcnktY29sJykub24oJ21vdXNlbW92ZScsZnVuY3Rpb24oZSl7XG5cdFx0dmFyICR0aGlzXHQ9ICQodGhpcyksXG5cdFx0XHQkaW1nXHQ9ICQodGhpcykuZmluZCgnaW1nJylcblx0XHRcdHhcdFx0PSBlLm9mZnNldFgsXG5cdFx0XHRudW1cdFx0PSAkaW1nLmxlbmd0aCxcblx0XHRcdHN0ZXBcdD0gJCh0aGlzKS53aWR0aCgpIC8gbnVtO1xuXG5cdFx0JGltZy5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRpZiAoeCA+PSBzdGVwKmkpIHtcblx0XHRcdFx0JChlbCkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChlbCkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSk7XG59KShqUXVlcnkpOyJdfQ==
